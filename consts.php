<?php

const DB_MYSQL_57 = 'mysql57';
const DB_MYSQL_57_PDO = 'mysql57pdo';
const DB_MYSQL_80 = 'mysql80';
const DB_MYSQL_84 = 'mysql84';
const DB_PGSQL = 'pgsql';
const DB_MARIADB = 'mariadb';

/** Repositories which must not have installer included in the matrix, even though their type suggests they should */
const NO_INSTALLER_REPOS = [
    'silverstripe-config',
];

/** Repositories that either don't have a composer type or have a weird composer type, though we still want installer */
const FORCE_INSTALLER_REPOS = [
    'silverstripe-behat-extension',
];

// use hardcoded.php to bulk update update this after creating a .cow.pat.json
// for multiple versions, use an array e.g. silverstripe-mymodule => ['2.3', '2.4']
const INSTALLER_TO_REPO_MINOR_VERSIONS = [
    '5.0' => [
        'comment-notifications' => '3.0',
        'cwp' => '3.0',
        'cwp-agencyextensions' => '3.0',
        'cwp-core' => '3.0',
        'cwp-search' => '2.0',
        'cwp-starter-theme' => '4.0',
        'cwp-watea-theme' => '4.0',
        'silverstripe-advancedworkflow' => '6.0',
        'silverstripe-auditor' => '3.0',
        'silverstripe-blog' => '4.0',
        'silverstripe-ckan-registry' => '2.0',
        'silverstripe-comments' => '4.0',
        'silverstripe-composer-update-checker' => '4.0',
        'silverstripe-content-widget' => '3.0',
        'silverstripe-contentreview' => '5.0',
        'silverstripe-crontask' => '3.0',
        'silverstripe-developer-docs' => '5.0',
        'silverstripe-documentconverter' => '3.0',
        'silverstripe-elemental' => '5.0',
        'silverstripe-elemental-bannerblock' => '3.0',
        'silverstripe-elemental-fileblock' => '3.0',
        'silverstripe-elemental-userforms' => '4.0',
        'silverstripe-environmentcheck' => '3.0',
        'silverstripe-externallinks' => '3.0',
        'silverstripe-fluent' => '7.0',
        'silverstripe-fulltextsearch' => '4.0',
        'silverstripe-graphql' => '5.0',
        'silverstripe-gridfield-bulk-editing-tools' => '4.0',
        'silverstripe-gridfieldextensions' => '4.0',
        'silverstripe-gridfieldqueuedexport' => '3.0',
        'silverstripe-hybridsessions' => '3.0',
        'silverstripe-iframe' => '3.0',
        'silverstripe-ldap' => '2.0',
        'silverstripe-login-forms' => '5.0',
        'silverstripe-lumberjack' => '3.0',
        'silverstripe-maintenance' => '3.0',
        'silverstripe-mfa' => '5.0',
        'silverstripe-mimevalidator' => '3.0',
        'silverstripe-multivaluefield' => '6.0',
        'silverstripe-queuedjobs' => '5.0',
        'silverstripe-realme' => '5.0',
        'silverstripe-registry' => '3.0',
        'silverstripe-restfulserver' => '3.0',
        'silverstripe-securityreport' => '3.0',
        'silverstripe-segment-field' => '3.0',
        'silverstripe-session-manager' => '2.0',
        'silverstripe-sharedraftcontent' => '3.0',
        'silverstripe-sitewidecontent-report' => '4.0',
        'silverstripe-spamprotection' => '4.0',
        'silverstripe-staticpublishqueue' => '6.0',
        'silverstripe-subsites' => '3.0',
        'silverstripe-tagfield' => '3.0',
        'silverstripe-taxonomy' => '3.0',
        'silverstripe-textextraction' => '4.0',
        'silverstripe-totp-authenticator' => '5.0',
        'silverstripe-userforms' => '6.0',
        'silverstripe-vendor-plugin' => '2.0',
        'silverstripe-versionfeed' => '3.0',
        'silverstripe-webauthn-authenticator' => '5.0',
        'silverstripe-widgets' => '3.0',
    ],
    '5.1' => [
        'cwp-agencyextensions' => '3.1',
        'cwp-starter-theme' => '4.0',
        'cwp-watea-theme' => '4.0',
        'silverstripe-advancedworkflow' => '6.1',
        'silverstripe-auditor' => '3.0',
        'silverstripe-blog' => '4.1',
        'silverstripe-composer-update-checker' => '4.0',
        'silverstripe-contentreview' => '5.1',
        'silverstripe-crontask' => '3.0',
        'silverstripe-developer-docs' => '5.1',
        'silverstripe-documentconverter' => '3.1',
        'silverstripe-dynamodb' => '5.0',
        'silverstripe-elemental' => '5.1',
        'silverstripe-elemental-bannerblock' => '3.1',
        'silverstripe-elemental-fileblock' => '3.1',
        'silverstripe-environmentcheck' => '3.0',
        'silverstripe-externallinks' => '3.1',
        'silverstripe-fluent' => '7.0',
        'silverstripe-graphql' => '5.1',
        'silverstripe-gridfield-bulk-editing-tools' => '4.0',
        'silverstripe-gridfieldextensions' => '4.0',
        'silverstripe-gridfieldqueuedexport' => '3.1',
        'silverstripe-hybridsessions' => '3.0',
        'silverstripe-iframe' => '3.1',
        'silverstripe-ldap' => '2.1',
        'silverstripe-login-forms' => '5.1',
        'silverstripe-lumberjack' => '3.0',
        'silverstripe-maintenance' => '3.0',
        'silverstripe-mfa' => '5.1',
        'silverstripe-mimevalidator' => '3.0',
        'silverstripe-multivaluefield' => '6.0',
        'silverstripe-queuedjobs' => '5.0',
        'silverstripe-realme' => '5.2',
        'silverstripe-registry' => '3.1',
        'silverstripe-restfulserver' => '3.0',
        'silverstripe-securityreport' => '3.0',
        'silverstripe-segment-field' => '3.1',
        'silverstripe-session-manager' => '2.1',
        'silverstripe-sharedraftcontent' => '3.1',
        'silverstripe-simple' => '3.3',
        'silverstripe-sitewidecontent-report' => '4.1',
        'silverstripe-spamprotection' => '4.1',
        'silverstripe-staticpublishqueue' => '6.1',
        'silverstripe-subsites' => '3.1',
        'silverstripe-tagfield' => '3.1',
        'silverstripe-taxonomy' => '3.1',
        'silverstripe-textextraction' => '4.0',
        'silverstripe-totp-authenticator' => '5.1',
        'silverstripe-userforms' => '6.1',
        'silverstripe-vendor-plugin' => '2.0',
        'silverstripe-versionfeed' => '3.1',
        'silverstripe-webauthn-authenticator' => '5.1',
    ],
    '5.2' => [
        'cwp-agencyextensions' => '3.2',
        'cwp-starter-theme' => '4.1',
        'cwp-watea-theme' => '4.1',
        'recipe-plugin' => '2.0',
        'silverstripe-advancedworkflow' => '6.2',
        'silverstripe-auditor' => '3.1',
        'silverstripe-blog' => '4.2',
        'silverstripe-composer-update-checker' => '4.1',
        'silverstripe-contentreview' => '5.2',
        'silverstripe-crontask' => '3.0',
        'silverstripe-developer-docs' => '5.2',
        'silverstripe-documentconverter' => '3.2',
        'silverstripe-dynamodb' => '5.0',
        'silverstripe-elemental' => '5.2',
        'silverstripe-elemental-bannerblock' => '3.2',
        'silverstripe-elemental-fileblock' => '3.1',
        'silverstripe-elemental-userforms' => '4.1',
        'silverstripe-environmentcheck' => '3.0',
        'silverstripe-externallinks' => '3.2',
        'silverstripe-fluent' => '7.1',
        // GraphQL is commented out here to ensure that it's installed using
        // installer 5.3, instead of installer 5.2
        // This is done because otherwise an elemental behat test will fail because
        // it needs a fix which is in framework 5.3
        // 'silverstripe-graphql' => '5.2',
        'silverstripe-gridfield-bulk-editing-tools' => '4.0',
        'silverstripe-gridfieldextensions' => '4.0',
        'silverstripe-gridfieldqueuedexport' => '3.2',
        'silverstripe-hybridsessions' => '3.0',
        'silverstripe-iframe' => '3.2',
        'silverstripe-ldap' => '2.2',
        'silverstripe-linkfield' => '4.0',
        'silverstripe-login-forms' => '5.2',
        'silverstripe-lumberjack' => '3.1',
        'silverstripe-maintenance' => '3.1',
        'silverstripe-mfa' => '5.2',
        'silverstripe-mimevalidator' => '3.1',
        'silverstripe-multivaluefield' => '6.1',
        'silverstripe-queuedjobs' => '5.1',
        'silverstripe-realme' => '5.3',
        'silverstripe-registry' => '3.2',
        'silverstripe-restfulserver' => '3.0',
        'silverstripe-securityreport' => '3.1',
        'silverstripe-segment-field' => '3.2',
        'silverstripe-session-manager' => '2.2',
        'silverstripe-sharedraftcontent' => '3.2',
        'silverstripe-simple' => '3.3',
        'silverstripe-sitewidecontent-report' => '4.2',
        'silverstripe-spamprotection' => '4.2',
        'silverstripe-staticpublishqueue' => '6.2',
        'silverstripe-subsites' => '3.2',
        'silverstripe-tagfield' => '3.2',
        'silverstripe-taxonomy' => '3.2',
        'silverstripe-textextraction' => '4.1',
        'silverstripe-totp-authenticator' => '5.2',
        'silverstripe-userforms' => '6.2',
        'silverstripe-vendor-plugin' => '2.0',
        'silverstripe-versionfeed' => '3.2',
        'silverstripe-webauthn-authenticator' => '5.2',
    ],
    '5.3' => [
        'cwp-agencyextensions' => '3.3',
        'cwp-starter-theme' => '4.2',
        'cwp-watea-theme' => '4.2',
        'recipe-plugin' => '2.0',
        'silverstripe-advancedworkflow' => '6.3',
        'silverstripe-auditor' => '3.2',
        'silverstripe-blog' => '4.3',
        'silverstripe-composer-update-checker' => '4.1',
        'silverstripe-contentreview' => '5.3',
        'silverstripe-crontask' => '3.0',
        'silverstripe-developer-docs' => '5.3',
        'silverstripe-documentconverter' => '3.3',
        'silverstripe-dynamodb' => '5.0',
        'silverstripe-elemental' => '5.3',
        'silverstripe-elemental-bannerblock' => '3.3',
        'silverstripe-elemental-fileblock' => '3.1',
        'silverstripe-elemental-userforms' => '4.1',
        'silverstripe-environmentcheck' => '3.0',
        'silverstripe-externallinks' => '3.3',
        'silverstripe-fluent' => '7.2',
        'silverstripe-graphql' => '5.2',
        'silverstripe-gridfield-bulk-editing-tools' => '4.1',
        'silverstripe-gridfieldextensions' => '4.1',
        'silverstripe-gridfieldqueuedexport' => '3.3',
        'silverstripe-hybridsessions' => '3.0',
        'silverstripe-iframe' => '3.2',
        'silverstripe-ldap' => '2.2',
        'silverstripe-linkfield' => '4.1',
        'silverstripe-login-forms' => '5.3',
        'silverstripe-lumberjack' => '3.2',
        'silverstripe-maintenance' => '3.2',
        'silverstripe-mfa' => '5.3',
        'silverstripe-mimevalidator' => '3.1',
        'silverstripe-multivaluefield' => '6.1',
        'silverstripe-queuedjobs' => '5.2',
        'silverstripe-realme' => '5.4',
        'silverstripe-registry' => '3.2',
        'silverstripe-restfulserver' => '3.0',
        'silverstripe-securityreport' => '3.1',
        'silverstripe-segment-field' => '3.3',
        'silverstripe-session-manager' => '2.3',
        'silverstripe-sharedraftcontent' => '3.3',
        'silverstripe-simple' => '3.3',
        'silverstripe-sitewidecontent-report' => '4.3',
        'silverstripe-spamprotection' => '4.2',
        'silverstripe-staticpublishqueue' => '6.2',
        'silverstripe-subsites' => '3.3',
        'silverstripe-tagfield' => '3.3',
        'silverstripe-taxonomy' => '3.2',
        'silverstripe-textextraction' => '4.1',
        'silverstripe-totp-authenticator' => '5.3',
        'silverstripe-userforms' => '6.3',
        'silverstripe-vendor-plugin' => '2.0',
        'silverstripe-versionfeed' => '3.2',
        'silverstripe-webauthn-authenticator' => '5.3',
    ],
    '5.4' => [
        'cwp-agencyextensions' => '3.3',
        'cwp-starter-theme' => '4.2',
        'cwp-watea-theme' => '4.2',
        'recipe-plugin' => '2.1',
        'silverstripe-advancedworkflow' => '6.4',
        'silverstripe-auditor' => '3.3',
        'silverstripe-blog' => '4.4',
        'silverstripe-composer-update-checker' => '4.1',
        'silverstripe-contentreview' => '5.4',
        'silverstripe-crontask' => '3.1',
        'silverstripe-developer-docs' => '5.4',
        'silverstripe-documentconverter' => '3.3',
        'silverstripe-dynamodb' => '5.0',
        'silverstripe-elemental' => '5.4',
        'silverstripe-elemental-bannerblock' => '3.3',
        'silverstripe-elemental-fileblock' => '3.1',
        'silverstripe-elemental-userforms' => '4.2',
        'silverstripe-environmentcheck' => '3.1',
        'silverstripe-externallinks' => '3.4',
        'silverstripe-fluent' => '7.3',
        'silverstripe-graphql' => '5.3',
        'silverstripe-gridfield-bulk-editing-tools' => '4.1',
        'silverstripe-gridfieldextensions' => '4.1',
        'silverstripe-gridfieldqueuedexport' => '3.3',
        'silverstripe-hybridsessions' => '3.0',
        'silverstripe-iframe' => '3.3',
        'silverstripe-ldap' => '2.3',
        'silverstripe-linkfield' => '4.2',
        'silverstripe-login-forms' => '5.3',
        'silverstripe-lumberjack' => '3.3',
        'silverstripe-maintenance' => '3.3',
        'silverstripe-mfa' => '5.4',
        'silverstripe-mimevalidator' => '3.1',
        'silverstripe-multivaluefield' => '6.1',
        'silverstripe-queuedjobs' => '5.3',
        'silverstripe-realme' => '5.5',
        'silverstripe-registry' => '3.3',
        'silverstripe-restfulserver' => '3.0',
        'silverstripe-securityreport' => '3.1',
        'silverstripe-segment-field' => '3.3',
        'silverstripe-session-manager' => '2.3',
        'silverstripe-sharedraftcontent' => '3.4',
        'silverstripe-simple' => '3.3',
        'silverstripe-sitewidecontent-report' => '4.3',
        'silverstripe-spamprotection' => '4.2',
        'silverstripe-staticpublishqueue' => '6.3',
        'silverstripe-subsites' => '3.4',
        'silverstripe-tagfield' => '3.4',
        'silverstripe-taxonomy' => '3.2',
        'silverstripe-textextraction' => '4.1',
        'silverstripe-totp-authenticator' => '5.3',
        'silverstripe-userforms' => '6.4',
        'silverstripe-vendor-plugin' => '2.1',
        'silverstripe-versionfeed' => '3.2',
        'silverstripe-webauthn-authenticator' => '5.3',
    ],
    '6.0' => [
        'recipe-plugin' => '2.0',
        'silverstripe-advancedworkflow' => '7.0',
        'silverstripe-blog' => '5.0',
        'silverstripe-crontask' => '4.0',
        'silverstripe-developer-docs' => '6.0',
        'silverstripe-dynamodb' => '6.0',
        'silverstripe-elemental' => '6.0',
        'silverstripe-elemental-userforms' => '5.0',
        'silverstripe-fluent' => '8.0',
        'silverstripe-graphql' => '6.0',
        'silverstripe-gridfield-bulk-editing-tools' => '5.0',
        'silverstripe-gridfieldextensions' => '5.0',
        'silverstripe-gridfieldqueuedexport' => '4.0',
        'silverstripe-htmleditor-tinymce' => '1.0',
        'silverstripe-hybridsessions' => '4.0',
        'silverstripe-linkfield' => '5.0',
        'silverstripe-login-forms' => '6.0',
        'silverstripe-lumberjack' => '4.0',
        'silverstripe-mfa' => '6.0',
        'silverstripe-mimevalidator' => '4.0',
        'silverstripe-queuedjobs' => '6.0',
        'silverstripe-realme' => '6.0',
        'silverstripe-segment-field' => '4.0',
        'silverstripe-session-manager' => '3.0',
        'silverstripe-sharedraftcontent' => '4.0',
        'silverstripe-spamprotection' => '5.0',
        'silverstripe-startup-theme' => '1.0',
        'silverstripe-staticpublishqueue' => '7.0',
        'silverstripe-subsites' => '4.0',
        'silverstripe-tagfield' => '4.0',
        'silverstripe-taxonomy' => '4.0',
        'silverstripe-template-engine' => '1.0',
        'silverstripe-textextraction' => '5.0',
        'silverstripe-totp-authenticator' => '6.0',
        'silverstripe-userforms' => '7.0',
        'silverstripe-vendor-plugin' => '3.0',
    ],
];
